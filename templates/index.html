<!DOCTYPE html>
<html>
    <head>
        <script type="text/javascript" src="{{ url_for('static', filename='jquery.js') }}"></script>
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='index.css') }}">
        <title>index</title>
        <script>
            $SCRIPT_ROOT={{ request.script_root|tojson|safe }};
            $(function(){
                $('#test_jquery_button').click(function(){
                    alert('test jquery');
                });
                $('#conversation_div').children('button').click(function(){
                    $('#conversation_zone').toggle();
                });
                $('#question_button').click(function(){
                    //alert('button clicked!');
                    var q=$('input[name="question_input"]').val();
                    if(q=='') alert('please input question');
                    else{
                        $('#conversation_div').append('<div class="myMsg">'+q+'</div>');
                        $.post($SCRIPT_ROOT+'/',{
                            question: q
                        }, function(data){
                            alert(data.result);
                        });
                    }
                    $('input[name="question_input"]').val('');
                });
            });
        </script>
    </head>
    <body>
        <header>conversational AI</header>
        <button id='test_jquery_button'>test jquery button</button>
        <div id='conversation_div'>
            <div class="botMsg">Hi!</div>
            <div class="myMsg">my message</div>
        </div>
        <div>
            <input type="text" name='question_input'><button id='question_button'>ask</button>
        </div>
    </body>
</html>